(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{10:function(e,n,t){e.exports=t(18)},15:function(e,n,t){},16:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),u=t(4),a=t.n(u),o=(t(15),t(2)),c=t(5),l=t(6),s=t(8),f=t(7),h=t(1),d=t(9),v=(t(16),t(17).List),m={0:"white",1:"#b3ffb3",2:"#4dff4d",3:"#ffff00",4:"#ffcc00",5:"#ff9933",6:"#ff6600",7:"#ff3300",8:"#ff0000"};function g(e){var n=e.touched,t=(e.mine,e.value),r=e.onClick,u=n?"touched":"untouched",a=m[t],o=n?t:"",c=t>3?"bold":"normal";return i.a.createElement("button",{style:{color:a,fontWeight:c},className:u,onClick:r,disabled:n},o)}var b=function(e){function n(e){var t;Object(c.a)(this,n);var r=(t=Object(s.a)(this,Object(f.a)(n).call(this,e))).createBoard(e.size,.2).reduce((function(e,n){return e+n.filter((function(e){return!e.mine})).length}));return t.state={size:e.size,grid:t.createBoard(e.size,.2),safeSpaces:r},t.InBounds=t.InBounds.bind(Object(h.a)(t)),t}return Object(d.a)(n,e),Object(l.a)(n,[{key:"newCell",value:function(e){return{mine:e,touched:!1}}},{key:"InBounds",value:function(e,n){return e.every((function(e){return 0<=e&&e<n}))}},{key:"getSurroundingNeighbors",value:function(e,n,t){return Array(8).fill(null).map((function(e,n){return n*Math.PI/4})).map((function(t){return[e+Math.round(Math.sin(t)),n+Math.round(Math.cos(t))]})).filter((function(e){return e.every((function(e){return 0<=e&&e<t}))}))}},{key:"getMinedNeighbors",value:function(e,n,t){var r=e.length;return e[n][t].minedNeighbors=this.getSurroundingNeighbors(n,t,r).filter((function(n){var t=Object(o.a)(n,2),r=t[0],i=t[1];return e[r][i].mine})).length}},{key:"revealCell",value:function(e,n,t){return e[n][t].minedNeighbors>0?v([[n,t]]):this.revealCellsRecursively(e,n,t,v())}},{key:"revealCellsRecursively",value:function(e,n,t,r){var i=this;if(e[n][t].minedNeighbors>0)return r.push(v([n,t]));var u;return u=function(i){var u=Object(o.a)(i,2),a=u[0],c=u[1];return!e[a][c].mine&&!e[a][c].touched&&!r.includes(v([n,t]))},this.getSurroundingNeighbors(n,t,e.length).filter((function(e){return u(e)})).reduce((function(n,t){return i.revealCellsRecursively(e,t[0],t[1],n)}),r.push(v([n,t])))}},{key:"createBoard",value:function(e,n){for(var t=this,r=Array(e).fill(null).map((function(r){return Array(e).fill(null).map((function(e){return t.newCell(Math.random()<n)}))})),i=0;i<e;i++)for(var u=0;u<e;u++)r[i][u].mineNeighbors=this.getMinedNeighbors(r,i,u);return r}},{key:"remainingCells",value:function(e){return e.reduce((function(e,n){return e+n.filter((function(e){return!e.mine&&e.touched})).length}))}},{key:"handleClick",value:function(e,n){var t=this.state.grid,r=t[e][n];if(r.mine){alert("Dead");var i=this.createBoard(this.state.size,.2),u=i.reduce((function(e,n){return e+n.filter((function(e){return!e.mine})).length}));this.setState({grid:i,safeSpaces:u})}else{if(!r.touched)this.revealCell(t,e,n).forEach((function(e){var n=Object(o.a)(e,2),r=n[0],i=n[1];t[r][i].touched=!0})),0===this.remainingCells(t)&&alert("Congratulations!"),console.log(""),this.setState({grid:t})}}},{key:"render",value:function(){var e=this;return this.state.grid.map((function(n,t){return i.a.createElement("div",{key:t},n.map((function(n,r){return i.a.createElement(g,{onClick:function(){return e.handleClick(t,r)},key:r,mine:n.mine,touched:n.touched,value:n.minedNeighbors})})))}))}}]),n}(i.a.Component);var p=function(){return i.a.createElement("div",{id:"App"},i.a.createElement("h1",null,"Mine Sweeper"),i.a.createElement("div",{id:"Board"},i.a.createElement(b,{size:10}),i.a.createElement("a",{href:"https://github.com/TCooper1996/MineSweeper/",id:"info"},"github")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.d50e035d.chunk.js.map